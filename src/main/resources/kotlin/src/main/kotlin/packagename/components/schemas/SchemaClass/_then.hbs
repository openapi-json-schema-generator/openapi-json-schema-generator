{{#if forDocs}}
    {{#with then}}
        {{#if refInfo.refClass}}
            {{#if refInfo.refModule}}
then = [{{refInfo.refModule}}.{{refInfo.refClass}}::class.java]({{docRoot}}{{refInfo.ref.pathFromDocRoot}}.md#{{refInfo.ref.jsonPathPiece.kebabCase}})
            {{~else}}
then = [{{refInfo.refClass}}::class.java](#{{refInfo.ref.jsonPathPiece.kebabCase}})
            {{~/if}}
        {{else}}
then = [{{jsonPathPiece.pascalCase}}::class.java](#{{jsonPathPiece.kebabCase}})
        {{~/if}}
    {{~/with}}
{{else}}
    {{#with then}}
.then({{#if refInfo.refClass}}{{#if refInfo.refModule}}{{refInfo.refModule}}.{{/if}}{{refInfo.refClass}}{{else}}{{jsonPathPiece.pascalCase}}{{/if}}::class.java)
    {{/with}}
{{/if}}