package {{packageName}}.{{responses.subpackage}};

{{#each responses}}
import {{{packageName}}}.{{subpackage}}.{{jsonPathPiece.pascalCase}};
{{/each}}
import {{{packageName}}}.response.ApiResponse;
import {{{packageName}}}.response.ResponsesDeserializer;
import {{{packageName}}}.configurations.SchemaConfiguration;

import java.net.http.HttpResponse;

public class {{responses.jsonPathPiece.pascalCase}} {
    public sealed interface EndpointResponse permits {{#each responses}}Endpoint{{jsonPathPiece.pascalCase}}{{#unless @last}}, {{/unless}}{{/each}} {}
    {{#each responses}}

    public record Endpoint{{jsonPathPiece.pascalCase}}(
        HttpResponse<byte[]> response{{#if hasContentSchema}},{{/if}}
        {{#if hasContentSchema}}{{jsonPathPiece.pascalCase}}.SealedResponseBody body{{/if}}
    ) implements EndpointResponse, ApiResponse<{{#if hasContentSchema}}{{jsonPathPiece.pascalCase}}.SealedResponseBody{{else}}Void{{/if}}, Void>{
        {{#unless hasContentSchema}}
        @Override
        public Void body() {
            return null;
        }
        {{/unless}}
        @Override
        public Void headers() {
            return null;
        }
    }
    {{/each}}
    {{#if statusCodeResponses}}

    public sealed interface StatusCodeResponseDeserializer permits {{#each statusCodeResponses}}Status{{jsonPathPiece.pascalCase}}Deserializer{{#unless @last}}, {{/unless}}{{/each}} {}

        {{#each statusCodeResponses}}
    public static final class Status{{jsonPathPiece.pascalCase}}Deserializer extends {{jsonPathPiece.pascalCase}}.{{jsonPathPiece.pascalCase}}1 implements StatusCodeResponseDeserializer {
    }
        {{/each}}
    {{/if}}
    {{#if wildcardCodeResponses}}
    public sealed interface WildcardCodeResponseDeserializer permits {{#each wildcardCodeResponses}}Wildcard{{jsonPathPiece.pascalCase}}Deserializer{{#unless @last}}, {{/unless}}{{/each}} {}

        {{#each wildcardCodeResponses}}
    public static final class Wildcard{{jsonPathPiece.pascalCase}}Deserializer extends {{jsonPathPiece.pascalCase}}.{{jsonPathPiece.pascalCase}}1 implements WildcardCodeResponseDeserializer {
    }
        {{/each}}
    {{/if}}

    public static final class {{responses.jsonPathPiece.pascalCase}}1 implements ResponsesDeserializer<EndpointResponse> {

        public EndpointResponse deserialize(HttpResponse<byte[]> response, SchemaConfiguration configuration) {
        }
    }
}
