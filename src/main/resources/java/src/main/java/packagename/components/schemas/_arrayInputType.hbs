{{#if items}}

public static class {{arrayInputJsonPathPiece.camelCase}} {
    // class to build List<{{#with items}}{{> src/main/java/packagename/components/schemas/types/schema_input_type sourceJsonPath=../jsonPath forceNull=true noExtends=true }}{{/with}}>
    private final List<{{#with items}}{{> src/main/java/packagename/components/schemas/types/schema_input_type sourceJsonPath=../jsonPath forceNull=true noExtends=true }}{{/with}}> list;

    public {{arrayInputJsonPathPiece.camelCase}}() {
        list = new ArrayList<>();
    }

    public {{arrayInputJsonPathPiece.camelCase}}(List<{{#with items}}{{> src/main/java/packagename/components/schemas/types/schema_input_type sourceJsonPath=../jsonPath forceNull=true noExtends=true }}{{/with}}> list) {
        this.list = list;
    }
    {{#with items}}
        {{#if refInfo }}
            {{#if refInfo.refModule}}
                {{#with getDeepestRef }}
    {{> src/main/java/packagename/components/schemas/_arrayInputAddItem builderClass=../../arrayInputJsonPathPiece.camelCase useContainer=true }}
                {{/with}}
            {{else}}
                {{! self reference} }}

    public {{../arrayInputJsonPathPiece.camelCase}} add(List<?> item) {
        list.add(item);
        return this;
    }
            {{/if}}
        {{else}}
    {{> src/main/java/packagename/components/schemas/_arrayInputAddItem builderClass=../arrayInputJsonPathPiece.camelCase }}
        {{/if}}
    {{else}}
    {{! todo handle this, 3.1.0 document use-case }}
    {{/with}}

    public List<{{#with items}}{{> src/main/java/packagename/components/schemas/types/schema_input_type sourceJsonPath=../jsonPath forceNull=true noExtends=true }}{{/with}}> build() {
        return list;
    }
}
{{/if}}
