package {{{packageName}}}.components.schemas;

import org.junit.Assert;
import org.junit.Test;
import {{{packageName}}}.configurations.JsonSchemaKeywordFlags;
import {{{packageName}}}.configurations.SchemaConfiguration;
import {{{packageName}}}.exceptions.ValidationException;

import java.util.List;
import java.util.Map;
import java.util.AbstractMap;

{{#with schema}}
public class {{containerJsonPathPiece.camelCase}}Test {
    static final SchemaConfiguration configuration = new SchemaConfiguration(JsonSchemaKeywordFlags.ofNone());
{{#each testCases}}
    {{#with this }}

    @Test
    public void test{{@key}}{{#if valid}}Passes{{else}}Fails{{/if}}() {
        // {{description}}
        {{#if valid}}
        {{containerJsonPathPiece.camelCase}}.{{jsonPathPiece.camelCase}}.validate(
            {{#with data}}
            {{> src/main/java/org/openapitools/components/schemas/helpers/payload_renderer endChar="," }}
            {{/with}}
            configuration
        );
        {{else}}
        Assert.assertThrows(ValidationException.class, () -> {{containerJsonPathPiece.camelCase}}.{{jsonPathPiece.camelCase}}.validate(
            {{#with data}}
            {{> src/main/java/org/openapitools/components/schemas/helpers/payload_renderer endChar="," }}
            {{/with}}
            configuration
        ));
        {{/if}}
    }
    {{/with}}
{{/each}}
{{/with}}
}
