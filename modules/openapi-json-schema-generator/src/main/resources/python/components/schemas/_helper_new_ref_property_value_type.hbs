{{#with getDeepestRef}}
    {{#if types}}
        {{#eq types.size 1}}
{{#if ../refInfo.refModule}}{{../refInfo.refModule}}.{{/if}}{{../refInfo.refClass}}[{{> components/schemas/_helper_schema_python_base_types }}],
        {{else}}
{{#if ../refInfo.refModule}}{{../refInfo.refModule}}.{{/if}}{{../refInfo.refClass}}[typing.Union[
    {{> components/schemas/_helper_schema_python_base_types_newline }}
]],
        {{/eq}}
    {{else}}
{{#if ../refInfo.refModule}}{{../refInfo.refModule}}.{{/if}}{{../refInfo.refClass}}[typing.Union[
    {{> components/schemas/_helper_schema_python_base_types_newline }}
]],
    {{/if}}
{{#if optional}}
schemas.Unset,
{{/if}}
{{> _helper_schema_python_types_newline }}
{{/with}}