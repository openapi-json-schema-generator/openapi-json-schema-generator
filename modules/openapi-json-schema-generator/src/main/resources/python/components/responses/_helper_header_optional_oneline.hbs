{{#if refInfo}}
    {{#with getDeepestRef}}
        {{#unless required}}
            {{#if schema}}
                {{#with schema}}
            '{{../@key}}': typing.Union[{{../../name.getSnakeCaseName}}.{{../../name.getCamelCaseName}}.{{name.getSnakeCaseName}}, {{> components/schemas/schema_python_types }}],
                {{/with}}
            {{else}}
                {{#each getContent}}
            '{{../@key}}': {{#with this}}{{#with schema}}typing.Union[{{../../../name.getSnakeCaseName}}.{{../../../name.getCamelCaseName}}.content["{{{../@key.getName}}}"].{{name.getSnakeCaseName}}, {{> components/schemas/schema_python_types }}],{{/with}}{{/with}}
                {{/each}}
            {{/if}}
        {{/unless}}
    {{/with}}
{{else}}
    {{#unless required}}
        {{#if schema}}
            {{#with schema}}
            '{{../@key}}': typing.Union[{{../name.getSnakeCaseName}}.{{../name.getCamelCaseName}}.{{name.getSnakeCaseName}}, {{> components/schemas/schema_python_types }}],
            {{/with}}
        {{else}}
            {{#each getContent}}
            '{{../@key}}': {{#with this}}{{#with schema}}typing.Union[{{../name.getSnakeCaseName}}.{{../name.getCamelCaseName}}.content["{{{../@key.getName}}}"].{{name.getSnakeCaseName}}, {{> components/schemas/schema_python_types }}],{{/with}}{{/with}}
            {{/each}}
        {{/if}}
    {{/unless}}
{{/if}}